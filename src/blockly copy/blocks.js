/* eslint-disable */

(function (root, factory) {
	if (typeof define === 'function' && define.amd) { // AMD
		define(['./core'], factory);
	} else if (typeof exports === 'object') { // Node.js
		module.exports = factory(require('./core'));
	} else { // Browser
		root.Blockly.Blocks = factory(root.Blockly);
	}
}(this, function (Blockly) {

	Blockly.Blocks = {}; // Do not edit this file; automatically generated by build.py.
	'use strict';


	Blockly.Blocks.colour = {};
	Blockly.Constants = {};

	Blockly.Constants.Colour = {};
	Blockly.Constants.Colour.HUE = 20;
	Blockly.defineBlocksWithJsonArray([{
		type: "colour_picker",
		message0: "%1",
		args0: [{
			type: "field_colour",
			name: "COLOUR",
			colour: "#ff0000"
		}],
		output: "Colour",
		helpUrl: "%{BKY_COLOUR_PICKER_HELPURL}",
		style: "colour_blocks",
		tooltip: "%{BKY_COLOUR_PICKER_TOOLTIP}",
		extensions: ["parent_tooltip_when_inline"]
	},
	{
		type: "colour_random",
		message0: "%{BKY_COLOUR_RANDOM_TITLE}",
		output: "Colour",
		helpUrl: "%{BKY_COLOUR_RANDOM_HELPURL}",
		style: "colour_blocks",
		tooltip: "%{BKY_COLOUR_RANDOM_TOOLTIP}"
	},
	{
		type: "colour_rgb",
		message0: "%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
		args0: [{
			type: "input_value",
			name: "RED",
			check: "Number",
			align: "RIGHT"
		},
		{
			type: "input_value",
			name: "GREEN",
			check: "Number",
			align: "RIGHT"
		},
		{
			type: "input_value",
			name: "BLUE",
			check: "Number",
			align: "RIGHT"
		}],
		output: "Colour",
		helpUrl: "%{BKY_COLOUR_RGB_HELPURL}",
		style: "colour_blocks",
		tooltip: "%{BKY_COLOUR_RGB_TOOLTIP}"
	},
	{
		type: "colour_blend",
		message0: "%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",
		args0: [{
			type: "input_value",
			name: "COLOUR1",
			check: "Colour",
			align: "RIGHT"
		},
		{
			type: "input_value",
			name: "COLOUR2",
			check: "Colour",
			align: "RIGHT"
		},
		{
			type: "input_value",
			name: "RATIO",
			check: "Number",
			align: "RIGHT"
		}],
		output: "Colour",
		helpUrl: "%{BKY_COLOUR_BLEND_HELPURL}",
		style: "colour_blocks",
		tooltip: "%{BKY_COLOUR_BLEND_TOOLTIP}"
	}]);
	Blockly.Blocks.lists = {};

	Blockly.Constants.Lists = {};

	Blockly.Constants.Lists.HUE = 260;
	Blockly.defineBlocksWithJsonArray([{
		type: "lists_create_empty",
		message0: "%{BKY_LISTS_CREATE_EMPTY_TITLE}",
		output: "Array",
		style: "list_blocks",
		tooltip: "%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",
		helpUrl: "%{BKY_LISTS_CREATE_EMPTY_HELPURL}"
	},
	{
		type: "lists_repeat",
		message0: "%{BKY_LISTS_REPEAT_TITLE}",
		args0: [{
			type: "input_value",
			name: "ITEM"
		},
		{
			type: "input_value",
			name: "NUM",
			check: "Number"
		}],
		output: "Array",
		style: "list_blocks",
		tooltip: "%{BKY_LISTS_REPEAT_TOOLTIP}",
		helpUrl: "%{BKY_LISTS_REPEAT_HELPURL}"
	},
	{
		type: "lists_reverse",
		message0: "%{BKY_LISTS_REVERSE_MESSAGE0}",
		args0: [{
			type: "input_value",
			name: "LIST",
			check: "Array"
		}],
		output: "Array",
		inputsInline: !0,
		style: "list_blocks",
		tooltip: "%{BKY_LISTS_REVERSE_TOOLTIP}",
		helpUrl: "%{BKY_LISTS_REVERSE_HELPURL}"
	},
	{
		type: "lists_isEmpty",
		message0: "%{BKY_LISTS_ISEMPTY_TITLE}",
		args0: [{
			type: "input_value",
			name: "VALUE",
			check: ["String", "Array"]
		}],
		output: "Boolean",
		style: "list_blocks",
		tooltip: "%{BKY_LISTS_ISEMPTY_TOOLTIP}",
		helpUrl: "%{BKY_LISTS_ISEMPTY_HELPURL}"
	},
	{
		type: "lists_length",
		message0: "%{BKY_LISTS_LENGTH_TITLE}",
		args0: [{
			type: "input_value",
			name: "VALUE",
			check: ["String", "Array"]
		}],
		output: "Number",
		style: "list_blocks",
		tooltip: "%{BKY_LISTS_LENGTH_TOOLTIP}",
		helpUrl: "%{BKY_LISTS_LENGTH_HELPURL}"
	}]);
	Blockly.Blocks.lists_create_with = {
		init: function () {
			this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL);
			this.setStyle("list_blocks");
			this.itemCount_ = 3;
			this.updateShape_();

			this.setOutput(!0, "Array");
			this.setMutator(new Blockly.Mutator(["lists_create_with_item"]));
			this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("items", this.itemCount_);
			return a
		},

		domToMutation: function (a) {
			this.itemCount_ = parseInt(a.getAttribute("items"), 10);
			this.updateShape_()
		},

		decompose: function (a) {
			var b = a.newBlock("lists_create_with_container");
			b.initSvg();

			for (var c = b.getInput("STACK").connection, d = 0; d < this.itemCount_; d++) {
				var e = a.newBlock("lists_create_with_item");
				e.initSvg();

				c.connect(e.previousConnection);
				c = e.nextConnection
			}
			return b
		},

		compose: function (a) {
			var b = a.getInputTargetBlock("STACK");
			for (a = []; b;) a.push(b.valueConnection_), b = b.nextConnection && b.nextConnection.targetBlock();

			for (b = 0; b < this.itemCount_; b++) {
				var c = this.getInput("ADD" + b).connection.targetConnection;
				c && -1 == a.indexOf(c) && c.disconnect()
			}
			this.itemCount_ = a.length;
			this.updateShape_();

			for (b = 0; b < this.itemCount_; b++) Blockly.Mutator.reconnect(a[b], this, "ADD" + b)
		},

		saveConnections: function (a) {
			a = a.getInputTargetBlock("STACK");
			for (var b = 0; a;) {
				var c = this.getInput("ADD" + b);
				a.valueConnection_ = c && c.connection.targetConnection;
				b++;
				a = a.nextConnection && a.nextConnection.targetBlock()
			}
		},

		updateShape_: function () {
			this.itemCount_ && this.getInput("EMPTY") ? this.removeInput("EMPTY") : this.itemCount_ || this.getInput("EMPTY") || this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);
			for (var a = 0; a < this.itemCount_; a++) if (!this.getInput("ADD" + a)) {
				var b = this.appendValueInput("ADD" + a);
				0 == a && b.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)
			}
			for (; this.getInput("ADD" + a);) this.removeInput("ADD" + a), a++
		}
	};

	Blockly.Blocks.lists_create_with_container = {
		init: function () {
			this.setStyle("list_blocks");
			this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);
			this.appendStatementInput("STACK");
			this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);
			this.contextMenu = !1
		}
	};

	Blockly.Blocks.lists_create_with_item = {
		init: function () {
			this.setStyle("list_blocks");
			this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE);
			this.setPreviousStatement(!0);
			this.setNextStatement(!0);
			this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);
			this.contextMenu = !1
		}
	};

	Blockly.Blocks.lists_indexOf = {
		init: function () {
			var a = [
				[Blockly.Msg.LISTS_INDEX_OF_FIRST, "FIRST"],
				[Blockly.Msg.LISTS_INDEX_OF_LAST, "LAST"]
			];
			this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL);
			this.setStyle("list_blocks");
			this.setOutput(!0, "Number");
			this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST);
			this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(a), "END");
			this.setInputsInline(!0);
			var b = this;
			this.setTooltip(function () {
				return Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1", b.workspace.options.oneBasedIndex ? "0" : "-1")
			})
		}
	};

	Blockly.Blocks.lists_getIndex = {
		init: function () {
			var a = [
				[Blockly.Msg.LISTS_GET_INDEX_GET, "GET"],
				[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE, "GET_REMOVE"],
				[Blockly.Msg.LISTS_GET_INDEX_REMOVE, "REMOVE"]
			];
			this.WHERE_OPTIONS = [
				[Blockly.Msg.LISTS_GET_INDEX_FROM_START, "FROM_START"],
				[Blockly.Msg.LISTS_GET_INDEX_FROM_END, "FROM_END"],
				[Blockly.Msg.LISTS_GET_INDEX_FIRST, "FIRST"],
				[Blockly.Msg.LISTS_GET_INDEX_LAST, "LAST"],
				[Blockly.Msg.LISTS_GET_INDEX_RANDOM, "RANDOM"]
			];
			this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL);
			this.setStyle("list_blocks");
			a = new Blockly.FieldDropdown(a, function (a) {
				a = "REMOVE" == a;
				this.getSourceBlock().updateStatement_(a)
			});

			this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST);
			this.appendDummyInput().appendField(a, "MODE").appendField("", "SPACE");
			this.appendDummyInput("AT");
			Blockly.Msg.LISTS_GET_INDEX_TAIL && this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL);
			this.setInputsInline(!0);
			this.setOutput(!0);
			this.updateAt_(!0);
			var b = this;
			this.setTooltip(function () {
				var a =
					b.getFieldValue("MODE"),
					d = b.getFieldValue("WHERE"),
					e = "";
				switch (a + " " + d) {
					case "GET FROM_START":
					case "GET FROM_END":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;
						break;
					case "GET FIRST":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;
						break;
					case "GET LAST":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;
						break;
					case "GET RANDOM":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
						break;
					case "GET_REMOVE FROM_START":
					case "GET_REMOVE FROM_END":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;
						break;
					case "GET_REMOVE FIRST":
						e =
							Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;
						break;
					case "GET_REMOVE LAST":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;
						break;
					case "GET_REMOVE RANDOM":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;
						break;
					case "REMOVE FROM_START":
					case "REMOVE FROM_END":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;
						break;
					case "REMOVE FIRST":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
						break;
					case "REMOVE LAST":
						e = Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;
						break;
					case "REMOVE RANDOM":
						e =
							Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM
				}
				if ("FROM_START" == d || "FROM_END" == d) e += "  " + ("FROM_START" == d ? Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP : Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1", b.workspace.options.oneBasedIndex ? "#1" : "#0");
				return e
			})
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("statement", !this.outputConnection);
			var b = this.getInput("AT").type == Blockly.INPUT_VALUE;
			a.setAttribute("at", b);
			return a
		},

		domToMutation: function (a) {
			var b = "true" == a.getAttribute("statement");
			this.updateStatement_(b);
			a = "false" != a.getAttribute("at");
			this.updateAt_(a)
		},

		updateStatement_: function (a) {
			a != !this.outputConnection && (this.unplug(!0, !0), a ? (this.setOutput(!1), this.setPreviousStatement(!0), this.setNextStatement(!0)) : (this.setPreviousStatement(!1), this.setNextStatement(!1), this.setOutput(!0)))
		},

		updateAt_: function (a) {
			this.removeInput("AT");
			this.removeInput("ORDINAL", !0);
			a ? (this.appendValueInput("AT").setCheck("Number"), Blockly.Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT");
			var b = new Blockly.FieldDropdown(this.WHERE_OPTIONS, function (b) {
				var c = "FROM_START" == b || "FROM_END" == b;
				if (c != a) {
					var e = this.getSourceBlock();

					e.updateAt_(c);
					e.setFieldValue(b, "WHERE");
					return null
				}
			});

			this.getInput("AT").appendField(b, "WHERE");
			Blockly.Msg.LISTS_GET_INDEX_TAIL && this.moveInputBefore("TAIL", null)
		}
	};

	Blockly.Blocks.lists_setIndex = {
		init: function () {
			var a = [
				[Blockly.Msg.LISTS_SET_INDEX_SET, "SET"],
				[Blockly.Msg.LISTS_SET_INDEX_INSERT, "INSERT"]
			];
			this.WHERE_OPTIONS = [
				[Blockly.Msg.LISTS_GET_INDEX_FROM_START, "FROM_START"],
				[Blockly.Msg.LISTS_GET_INDEX_FROM_END, "FROM_END"],
				[Blockly.Msg.LISTS_GET_INDEX_FIRST, "FIRST"],
				[Blockly.Msg.LISTS_GET_INDEX_LAST, "LAST"],
				[Blockly.Msg.LISTS_GET_INDEX_RANDOM, "RANDOM"]
			];
			this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL);
			this.setStyle("list_blocks");
			this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST);
			this.appendDummyInput().appendField(new Blockly.FieldDropdown(a), "MODE").appendField("", "SPACE");
			this.appendDummyInput("AT");
			this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO);
			this.setInputsInline(!0);
			this.setPreviousStatement(!0);
			this.setNextStatement(!0);
			this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP);
			this.updateAt_(!0);
			var b = this;
			this.setTooltip(function () {
				var a = b.getFieldValue("MODE"),
					d = b.getFieldValue("WHERE"),
					e = "";
				switch (a + " " + d) {
					case "SET FROM_START":
					case "SET FROM_END":
						e =
							Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;
						break;
					case "SET FIRST":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;
						break;
					case "SET LAST":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;
						break;
					case "SET RANDOM":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;
						break;
					case "INSERT FROM_START":
					case "INSERT FROM_END":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
						break;
					case "INSERT FIRST":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;
						break;
					case "INSERT LAST":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;
						break;
					case "INSERT RANDOM":
						e = Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM
				}
				if ("FROM_START" == d || "FROM_END" == d) e += "  " + Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1", b.workspace.options.oneBasedIndex ? "#1" : "#0");
				return e
			})
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation"),
				b = this.getInput("AT").type == Blockly.INPUT_VALUE;
			a.setAttribute("at", b);
			return a
		},

		domToMutation: function (a) {
			a = "false" != a.getAttribute("at");
			this.updateAt_(a)
		},

		updateAt_: function (a) {
			this.removeInput("AT");
			this.removeInput("ORDINAL", !0);
			a ? (this.appendValueInput("AT").setCheck("Number"), Blockly.Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT");
			var b = new Blockly.FieldDropdown(this.WHERE_OPTIONS, function (b) {
				var c = "FROM_START" == b || "FROM_END" == b;
				if (c != a) {
					var e = this.getSourceBlock();

					e.updateAt_(c);
					e.setFieldValue(b, "WHERE");
					return null
				}
			});

			this.moveInputBefore("AT", "TO");
			this.getInput("ORDINAL") && this.moveInputBefore("ORDINAL", "TO");
			this.getInput("AT").appendField(b, "WHERE")
		}
	};

	Blockly.Blocks.lists_getSublist = {
		init: function () {
			this.WHERE_OPTIONS_1 = [
				[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START, "FROM_START"],
				[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END, "FROM_END"],
				[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST, "FIRST"]
			];
			this.WHERE_OPTIONS_2 = [
				[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START, "FROM_START"],
				[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END, "FROM_END"],
				[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST, "LAST"]
			];
			this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL);
			this.setStyle("list_blocks");
			this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);
			this.appendDummyInput("AT1");
			this.appendDummyInput("AT2");
			Blockly.Msg.LISTS_GET_SUBLIST_TAIL && this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL);
			this.setInputsInline(!0);
			this.setOutput(!0, "Array");
			this.updateAt_(1, !0);
			this.updateAt_(2, !0);
			this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation"),
				b = this.getInput("AT1").type == Blockly.INPUT_VALUE;
			a.setAttribute("at1", b);
			b = this.getInput("AT2").type == Blockly.INPUT_VALUE;
			a.setAttribute("at2", b);
			return a
		},

		domToMutation: function (a) {
			var b = "true" == a.getAttribute("at1");
			a = "true" == a.getAttribute("at2");
			this.updateAt_(1, b);
			this.updateAt_(2, a)
		},

		updateAt_: function (a, b) {
			this.removeInput("AT" + a);
			this.removeInput("ORDINAL" + a, !0);
			b ? (this.appendValueInput("AT" + a).setCheck("Number"), Blockly.Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL" + a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT" + a);
			var c = new Blockly.FieldDropdown(this["WHERE_OPTIONS_" + a], function (c) {
				var d = "FROM_START" == c || "FROM_END" == c;
				if (d != b) {
					var f = this.getSourceBlock();

					f.updateAt_(a, d);
					f.setFieldValue(c, "WHERE" + a);
					return null
				}
			});

			this.getInput("AT" + a).appendField(c, "WHERE" + a);
			1 == a && (this.moveInputBefore("AT1", "AT2"), this.getInput("ORDINAL1") && this.moveInputBefore("ORDINAL1", "AT2"));
			Blockly.Msg.LISTS_GET_SUBLIST_TAIL && this.moveInputBefore("TAIL", null)
		}
	};

	Blockly.Blocks.lists_sort = {
		init: function () {
			this.jsonInit({
				message0: Blockly.Msg.LISTS_SORT_TITLE,
				args0: [{
					type: "field_dropdown",
					name: "TYPE",
					options: [
						[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC, "NUMERIC"],
						[Blockly.Msg.LISTS_SORT_TYPE_TEXT, "TEXT"],
						[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE, "IGNORE_CASE"]
					]
				},
				{
					type: "field_dropdown",
					name: "DIRECTION",
					options: [
						[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING, "1"],
						[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING, "-1"]
					]
				},
				{
					type: "input_value",
					name: "LIST",
					check: "Array"
				},
				
				
			
			],
				output: "Array",
				style: "list_blocks",
				tooltip: Blockly.Msg.LISTS_SORT_TOOLTIP,
				helpUrl: Blockly.Msg.LISTS_SORT_HELPURL
			})
		}
	};

	Blockly.Blocks.lists_split = {
		init: function () {
			var a = this,
				b = new Blockly.FieldDropdown([
					[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT, "SPLIT"],
					[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST, "JOIN"]
				], function (b) {
					a.updateType_(b)
				});

			this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL);
			this.setStyle("list_blocks");
			this.appendValueInput("INPUT").setCheck("String").appendField(b, "MODE");
			this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER);
			this.setInputsInline(!0);
			this.setOutput(!0, "Array");
			this.setTooltip(function () {
				var b = a.getFieldValue("MODE");
				if ("SPLIT" == b) return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;
				if ("JOIN" == b) return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;
				throw Error("Unknown mode: " + b);
			})
		},

		updateType_: function (a) {
			if (this.getFieldValue("MODE") != a) {
				var b = this.getInput("INPUT").connection;
				b.setShadowDom(null);
				var c = b.targetBlock();

				c && (b.disconnect(), c.isShadow() ? c.dispose() : this.bumpNeighbours())
			}
			"SPLIT" == a ? (this.outputConnection.setCheck("Array"), this.getInput("INPUT").setCheck("String")) : (this.outputConnection.setCheck("String"), this.getInput("INPUT").setCheck("Array"))
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("mode", this.getFieldValue("MODE"));
			return a
		},

		domToMutation: function (a) {
			this.updateType_(a.getAttribute("mode"))
		}
	};

	Blockly.Blocks.logic = {};

	Blockly.Constants.Logic = {};

	Blockly.Constants.Logic.HUE = 210;
	Blockly.defineBlocksWithJsonArray([
	]);
	Blockly.defineBlocksWithJsonArray([{
		type: "controls_if_if",
		message0: "%{BKY_CONTROLS_IF_IF_TITLE_IF}",
		nextStatement: null,
		enableContextMenu: !1,
		style: "logic_blocks",
		tooltip: "%{BKY_CONTROLS_IF_IF_TOOLTIP}"
	},
	{
		type: "controls_if_elseif",
		message0: "%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",
		previousStatement: null,
		nextStatement: null,
		enableContextMenu: !1,
		style: "logic_blocks",
		tooltip: "%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"
	},
	{
		type: "controls_if_else",
		message0: "%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",
		previousStatement: null,
		enableContextMenu: !1,
		style: "logic_blocks",
		tooltip: "%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"
	}]);
	Blockly.Constants.Logic.TOOLTIPS_BY_OP = {
		EQ: "%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",
		NEQ: "%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",
		LT: "%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",
		LTE: "%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",
		GT: "%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",
		GTE: "%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",
		AND: "%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",
		OR: "%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"
	};

	Blockly.Extensions.register("logic_op_tooltip", Blockly.Extensions.buildTooltipForDropdown("OP", Blockly.Constants.Logic.TOOLTIPS_BY_OP));
	Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN = {
		elseifCount_: 0,
		elseCount_: 0,
		suppressPrefixSuffix: !0,
		mutationToDom: function () {
			if (!this.elseifCount_ && !this.elseCount_) return null;
			var a = Blockly.utils.xml.createElement("mutation");
			this.elseifCount_ && a.setAttribute("elseif", this.elseifCount_);
			this.elseCount_ && a.setAttribute("else", 1);
			return a
		},

		domToMutation: function (a) {
			this.elseifCount_ = parseInt(a.getAttribute("elseif"), 10) || 0;
			this.elseCount_ = parseInt(a.getAttribute("else"), 10) || 0;
			this.rebuildShape_()
		},

		decompose: function (a) {
			var b = a.newBlock("controls_if_if");
			b.initSvg();

			for (var c = b.nextConnection, d = 1; d <= this.elseifCount_; d++) {
				var e = a.newBlock("controls_if_elseif");
				e.initSvg();

				c.connect(e.previousConnection);
				c = e.nextConnection
			}
			this.elseCount_ && (a = a.newBlock("controls_if_else"), a.initSvg(), c.connect(a.previousConnection));
			return b
		},

		compose: function (a) {
			a = a.nextConnection.targetBlock();

			this.elseCount_ = this.elseifCount_ = 0;
			for (var b = [null], c = [null], d = null; a;) {
				switch (a.type) {
					case "controls_if_elseif":
						this.elseifCount_++;
						b.push(a.valueConnection_);
						c.push(a.statementConnection_);
						break;
					case "controls_if_else":
						this.elseCount_++;
						d = a.statementConnection_;
						break;
					default:
						throw TypeError("Unknown block type: " + a.type);
				}
				a = a.nextConnection && a.nextConnection.targetBlock()
			}
			this.updateShape_();

			this.reconnectChildBlocks_(b, c, d)
		},

		saveConnections: function (a) {
			a = a.nextConnection.targetBlock();

			for (var b = 1; a;) {
				switch (a.type) {
					case "controls_if_elseif":
						var c = this.getInput("IF" + b),
							d = this.getInput("DO" + b);
						a.valueConnection_ = c && c.connection.targetConnection;
						a.statementConnection_ = d && d.connection.targetConnection;
						b++;
						break;
					case "controls_if_else":
						d = this.getInput("ELSE");
						a.statementConnection_ = d && d.connection.targetConnection;
						break;
					default:
						throw TypeError("Unknown block type: " + a.type);
				}
				a = a.nextConnection && a.nextConnection.targetBlock()
			}
		},

		rebuildShape_: function () {
			var a = [null],
				b = [null],
				c = null;
			this.getInput("ELSE") && (c = this.getInput("ELSE").connection.targetConnection);
			for (var d = 1; this.getInput("IF" + d);) {
				var e = this.getInput("IF" + d),
					f = this.getInput("DO" + d);
				a.push(e.connection.targetConnection);
				b.push(f.connection.targetConnection);
				d++
			}
			this.updateShape_();

			this.reconnectChildBlocks_(a, b, c)
		},

		updateShape_: function () {
			this.getInput("ELSE") && this.removeInput("ELSE");
			for (var a = 1; this.getInput("IF" + a);) this.removeInput("IF" + a), this.removeInput("DO" + a), a++;
			for (a = 1; a <= this.elseifCount_; a++) this.appendValueInput("IF" + a).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF), this.appendStatementInput("DO" + a).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);
			this.elseCount_ && this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)
		},

		reconnectChildBlocks_: function (a, b, c) {
			for (var d = 1; d <= this.elseifCount_; d++) Blockly.Mutator.reconnect(a[d], this, "IF" + d), Blockly.Mutator.reconnect(b[d], this, "DO" + d);
			Blockly.Mutator.reconnect(c, this, "ELSE")
		}
	};

	Blockly.Extensions.registerMutator("controls_if_mutator", Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN, null, ["controls_if_elseif", "controls_if_else"]);
	Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION = function () {
		this.setTooltip(function () {
			if (this.elseifCount_ || this.elseCount_) {
				if (!this.elseifCount_ && this.elseCount_) return Blockly.Msg.CONTROLS_IF_TOOLTIP_2;
				if (this.elseifCount_ && !this.elseCount_) return Blockly.Msg.CONTROLS_IF_TOOLTIP_3;
				if (this.elseifCount_ && this.elseCount_) return Blockly.Msg.CONTROLS_IF_TOOLTIP_4
			} else
				return Blockly.Msg.CONTROLS_IF_TOOLTIP_1;
			return ""
		}.bind(this))
	};

	Blockly.Extensions.register("controls_if_tooltip", Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION);
	Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN = {
		onchange: function (a) {
			this.prevBlocks_ || (this.prevBlocks_ = [null, null]);
			var b = this.getInputTargetBlock("A"),
				c = this.getInputTargetBlock("B");
			b && c && !b.outputConnection.checkType_(c.outputConnection) && (Blockly.Events.setGroup(a.group), a = this.prevBlocks_[0], a !== b && (b.unplug(), a && !a.isShadow() && this.getInput("A").connection.connect(a.outputConnection)), b = this.prevBlocks_[1], b !== c && (c.unplug(), b && !b.isShadow() && this.getInput("B").connection.connect(b.outputConnection)), this.bumpNeighbours(), Blockly.Events.setGroup(!1));
			this.prevBlocks_[0] = this.getInputTargetBlock("A");
			this.prevBlocks_[1] = this.getInputTargetBlock("B")
		}
	};

	Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION = function () {
		this.mixin(Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)
	};

	Blockly.Extensions.register("logic_compare", Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION);
	Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN = {
		prevParentConnection_: null,
		onchange: function (a) {
			var b = this.getInputTargetBlock("THEN"),
				c = this.getInputTargetBlock("ELSE"),
				d = this.outputConnection.targetConnection;
			if ((b || c) && d) for (var e = 0; 2 > e; e++) {
				var f = 1 == e ? b : c;
				f && !f.outputConnection.checkType_(d) && (Blockly.Events.setGroup(a.group), d === this.prevParentConnection_ ? (this.unplug(), d.getSourceBlock().bumpNeighbours()) : (f.unplug(), f.bumpNeighbours()), Blockly.Events.setGroup(!1))
			}
			this.prevParentConnection_ =
				d
		}
	};

	Blockly.Extensions.registerMixin("logic_ternary", Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN);
	Blockly.Blocks.loops = {};

	Blockly.Constants.Loops = {};

	Blockly.Constants.Loops.HUE = 120;
	Blockly.defineBlocksWithJsonArray([{
		type: "controls_repeat_ext",
		message0: "%{BKY_CONTROLS_REPEAT_TITLE}",
		args0: [{
			type: "input_value",
			name: "TIMES",
			check: "Number"
		}],
		message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
		args1: [{
			type: "input_statement",
			name: "DO"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "loop_blocks",
		tooltip: "%{BKY_CONTROLS_REPEAT_TOOLTIP}",
		helpUrl: "%{BKY_CONTROLS_REPEAT_HELPURL}"
	},
	{
		type: "controls_repeat",
		message0: "%{BKY_CONTROLS_REPEAT_TITLE}",
		args0: [{
			type: "field_number",
			name: "TIMES",
			value: 10,
			min: 0,
			precision: 1
		}],
		message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
		args1: [{
			type: "input_statement",
			name: "DO"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "loop_blocks",
		tooltip: "%{BKY_CONTROLS_REPEAT_TOOLTIP}",
		helpUrl: "%{BKY_CONTROLS_REPEAT_HELPURL}"
	},
	{
		type: "controls_while",
		message0: "%{BKY_CONTROLS_WHILE}",
		args0: [
			{
				type: "input_value",
				name: "BOOL",
				check: "Boolean"
			}],
		message1: "%{BKY_CONTROLS_WHILE_DO} %1",
		args1: [{
			type: "input_statement",
			name: "DO"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "loop_blocks",
	},
	{
		type: "controls_for",
		message0: "%{BKY_CONTROLS_FOR_TITLE}",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: null
		},
		{
			type: "input_value",
			name: "FROM",
			check: "Number",
			align: "RIGHT"
		},
		{
			type: "input_value",
			name: "TO",
			check: "Number",
			align: "RIGHT"
		}],
		message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
		args1: [{
			type: "input_statement",
			name: "DO"
		}],
		inputsInline: !0,
		previousStatement: null,
		nextStatement: null,
		style: "loop_blocks",
		helpUrl: "%{BKY_CONTROLS_FOR_HELPURL}",
		extensions: ["contextMenu_newGetVariableBlock", "controls_for_tooltip"]
	},
	{
		type: "controls_forEach",
		message0: "%{BKY_CONTROLS_FOREACH_TITLE}",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: null
		},
		{
			type: "input_value",
			name: "LIST",
			check: "Array"
		}],
		message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
		args1: [{
			type: "input_statement",
			name: "DO"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "loop_blocks",
		helpUrl: "%{BKY_CONTROLS_FOREACH_HELPURL}",
		extensions: ["contextMenu_newGetVariableBlock", "controls_forEach_tooltip"]
	},
	{
		type: "controls_flow_statements",
		message0: "%1",
		args0: [{
			type: "field_dropdown",
			name: "FLOW",
			options: [
				["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}", "BREAK"],
				["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}", "CONTINUE"]
			]
		}],
		previousStatement: null,
		style: "loop_blocks",
		helpUrl: "%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",
		extensions: ["controls_flow_tooltip", "controls_flow_in_loop_check"]
	}]);
	Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS = {
		WHILE: "%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",
		UNTIL: "%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"
	};

	Blockly.Extensions.register("controls_whileUntil_tooltip", Blockly.Extensions.buildTooltipForDropdown("MODE", Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS));
	Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS = {
		BREAK: "%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",
		CONTINUE: "%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"
	};

	Blockly.Extensions.register("controls_flow_tooltip", Blockly.Extensions.buildTooltipForDropdown("FLOW", Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS));
	Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN = {
		customContextMenu: function (a) {
			if (!this.isInFlyout) {
				var b = this.getField("VAR").getVariable(),
					c = b.name;
				if (!this.isCollapsed() && null != c) {
					var d = {
						enabled: !0
					};

					d.text = Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1", c);
					b = Blockly.Variables.generateVariableFieldDom(b);
					c = Blockly.utils.xml.createElement("block");
					c.setAttribute("type", "variables_get");
					c.appendChild(b);
					d.callback = Blockly.ContextMenu.callbackFactory(this, c);
					a.push(d)
				}
			}
		}
	};

	Blockly.Extensions.registerMixin("contextMenu_newGetVariableBlock", Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);
	Blockly.Extensions.register("controls_for_tooltip", Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}", "VAR"));
	Blockly.Extensions.register("controls_forEach_tooltip", Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}", "VAR"));
	Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN = {
		LOOP_TYPES: ["controls_repeat", "controls_repeat_ext", "controls_forEach", "controls_for", "controls_whileUntil"],
		suppressPrefixSuffix: !0,
		getSurroundLoop: function (a) {
			do {
				if (-1 != Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(a.type)) return a;
				a = a.getSurroundParent()
			} while
				(a);
			return null
		},

		onchange: function (a) {
			this.workspace.isDragging && !this.workspace.isDragging() && (Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this) ? (this.setWarningText(null), this.isInFlyout || this.setEnabled(!0)) : (this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING), this.isInFlyout || this.getInheritedDisabled() || this.setEnabled(!1)))
		}
	};

	Blockly.Extensions.registerMixin("controls_flow_in_loop_check", Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);
	Blockly.Blocks.math = {};

	Blockly.Constants.Math = {};

	Blockly.Constants.Math.HUE = 230;
	Blockly.defineBlocksWithJsonArray([
	]);
	Blockly.Constants.Math.TOOLTIPS_BY_OP = {
		ADD: "%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",
		MINUS: "%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",
		MULTIPLY: "%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",
		DIVIDE: "%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",
		POWER: "%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",
		ROOT: "%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",
		ABS: "%{BKY_MATH_SINGLE_TOOLTIP_ABS}",
		NEG: "%{BKY_MATH_SINGLE_TOOLTIP_NEG}",
		LN: "%{BKY_MATH_SINGLE_TOOLTIP_LN}",
		LOG10: "%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",
		EXP: "%{BKY_MATH_SINGLE_TOOLTIP_EXP}",
		POW10: "%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
		SIN: "%{BKY_MATH_TRIG_TOOLTIP_SIN}",
		COS: "%{BKY_MATH_TRIG_TOOLTIP_COS}",
		TAN: "%{BKY_MATH_TRIG_TOOLTIP_TAN}",
		ASIN: "%{BKY_MATH_TRIG_TOOLTIP_ASIN}",
		ACOS: "%{BKY_MATH_TRIG_TOOLTIP_ACOS}",
		ATAN: "%{BKY_MATH_TRIG_TOOLTIP_ATAN}",
		SUM: "%{BKY_MATH_ONLIST_TOOLTIP_SUM}",
		MIN: "%{BKY_MATH_ONLIST_TOOLTIP_MIN}",
		MAX: "%{BKY_MATH_ONLIST_TOOLTIP_MAX}",
		AVERAGE: "%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",
		MEDIAN: "%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",
		MODE: "%{BKY_MATH_ONLIST_TOOLTIP_MODE}",
		STD_DEV: "%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",
		RANDOM: "%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"
	};

	Blockly.Extensions.register("math_op_tooltip", Blockly.Extensions.buildTooltipForDropdown("OP", Blockly.Constants.Math.TOOLTIPS_BY_OP));
	Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN = {
		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation"),
				b = "DIVISIBLE_BY" == this.getFieldValue("PROPERTY");
			a.setAttribute("divisor_input", b);
			return a
		},

		domToMutation: function (a) {
			a = "true" == a.getAttribute("divisor_input");
			this.updateShape_(a)
		},

		updateShape_: function (a) {
			var b = this.getInput("DIVISOR");
			a ? b || this.appendValueInput("DIVISOR").setCheck("Number") : b && this.removeInput("DIVISOR")
		}
	};

	Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION = function () {
		this.getField("PROPERTY").setValidator(function (a) {
			a = "DIVISIBLE_BY" == a;
			this.getSourceBlock().updateShape_(a)
		})
	};

	Blockly.Extensions.registerMutator("math_is_divisibleby_mutator", Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN, Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION);
	Blockly.Extensions.register("math_change_tooltip", Blockly.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}", "VAR"));
	Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN = {
		updateType_: function (a) {
			"MODE" == a ? this.outputConnection.setCheck("Array") : this.outputConnection.setCheck("Number")
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("op", this.getFieldValue("OP"));
			return a
		},

		domToMutation: function (a) {
			this.updateType_(a.getAttribute("op"))
		}
	};

	Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION = function () {
		this.getField("OP").setValidator(function (a) {
			this.updateType_(a)
		}.bind(this))
	};

	Blockly.Extensions.registerMutator("math_modes_of_list_mutator", Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN, Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION);
	Blockly.Blocks.procedures = {};

	Blockly.Blocks.procedures_defnoreturn = {
		init: function () {
			var a = new Blockly.FieldTextInput("", Blockly.Procedures.rename);
			a.setSpellcheck(!1);
			this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a, "NAME").appendField("", "PARAMS");
			this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));
			(this.workspace.options.comments || this.workspace.options.parentWorkspace && this.workspace.options.parentWorkspace.options.comments) && Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT && this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);
			this.setStyle("procedure_blocks");
			this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP);
			this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL);
			this.arguments_ = [];
			this.argumentVarModels_ = [];
			this.setStatements_(!0);
			this.statementConnection_ = null
		},

		setStatements_: function (a) {
			this.hasStatements_ !== a && (a ? (this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO), this.getInput("RETURN") && this.moveInputBefore("STACK", "RETURN")) : this.removeInput("STACK", !0), this.hasStatements_ =
				a)
		},

		updateParams_: function () {
			var a = "";
			this.arguments_.length && (a = Blockly.Msg.PROCEDURES_BEFORE_PARAMS + " " + this.arguments_.join(", "));
			Blockly.Events.disable();

			try {
				this.setFieldValue(a, "PARAMS")
			} finally {
				Blockly.Events.enable()
			}
		},

		mutationToDom: function (a) {
			var b = Blockly.utils.xml.createElement("mutation");
			a && b.setAttribute("name", this.getFieldValue("NAME"));
			for (var c = 0; c < this.argumentVarModels_.length; c++) {
				var d = Blockly.utils.xml.createElement("arg"),
					e = this.argumentVarModels_[c];
				d.setAttribute("name", e.name);
				d.setAttribute("varid", e.getId());
				a && this.paramIds_ && d.setAttribute("paramId", this.paramIds_[c]);
				b.appendChild(d)
			}
			this.hasStatements_ || b.setAttribute("statements", "false");
			return b
		},

		domToMutation: function (a) {
			this.arguments_ = [];
			this.argumentVarModels_ = [];
			for (var b = 0, c; c = a.childNodes[b]; b++) if ("arg" == c.nodeName.toLowerCase()) {
				var d = c.getAttribute("name");
				c = c.getAttribute("varid") || c.getAttribute("varId");
				this.arguments_.push(d);
				c = Blockly.Variables.getOrCreateVariablePackage(this.workspace, c, d, "");
				null != c ? this.argumentVarModels_.push(c) : console.log("Failed to create a variable with name " + d + ", ignoring.")
			}
			this.updateParams_();

			Blockly.Procedures.mutateCallers(this);
			this.setStatements_("false" !== a.getAttribute("statements"))
		},

		decompose: function (a) {
			var b = Blockly.utils.xml.createElement("block");
			b.setAttribute("type", "procedures_mutatorcontainer");
			var c = Blockly.utils.xml.createElement("statement");
			c.setAttribute("name", "STACK");
			b.appendChild(c);
			for (var d = 0; d < this.arguments_.length; d++) {
				var e =
					Blockly.utils.xml.createElement("block");
				e.setAttribute("type", "procedures_mutatorarg");
				var f = Blockly.utils.xml.createElement("field");
				f.setAttribute("name", "NAME");
				var g = Blockly.utils.xml.createTextNode(this.arguments_[d]);
				f.appendChild(g);
				e.appendChild(f);
				f = Blockly.utils.xml.createElement("next");
				e.appendChild(f);
				c.appendChild(e);
				c = f
			}
			a = Blockly.Xml.domToBlock(b, a);
			"procedures_defreturn" == this.type ? a.setFieldValue(this.hasStatements_, "STATEMENTS") : a.removeInput("STATEMENT_INPUT");
			Blockly.Procedures.mutateCallers(this);
			return a
		},

		compose: function (a) {
			this.arguments_ = [];
			this.paramIds_ = [];
			this.argumentVarModels_ = [];
			for (var b = a.getInputTargetBlock("STACK"); b;) {
				var c = b.getFieldValue("NAME");
				this.arguments_.push(c);
				c = this.workspace.getVariable(c, "");
				this.argumentVarModels_.push(c);
				this.paramIds_.push(b.id);
				b = b.nextConnection && b.nextConnection.targetBlock()
			}
			this.updateParams_();

			Blockly.Procedures.mutateCallers(this);
			a = a.getFieldValue("STATEMENTS");
			if (null !== a && (a = "TRUE" == a, this.hasStatements_ != a)) if (a) this.setStatements_(!0), Blockly.Mutator.reconnect(this.statementConnection_, this, "STACK"), this.statementConnection_ = null;
			else {
				a = this.getInput("STACK").connection;
				if (this.statementConnection_ = a.targetConnection) a = a.targetBlock(), a.unplug(), a.bumpNeighbours();

				this.setStatements_(!1)
			}
		},

		getProcedureDef: function () {
			return [this.getFieldValue("NAME"), this.arguments_, !1]
		},

		getVars: function () {
			return this.arguments_
		},

		getVarModels: function () {
			return this.argumentVarModels_
		},

		renameVarById: function (a, b) {
			var c = this.workspace.getVariableById(a);
			if ("" == c.type) {
				c = c.name;
				for (var d = this.workspace.getVariableById(b), e = !1, f = 0; f < this.argumentVarModels_.length; f++) this.argumentVarModels_[f].getId() == a && (this.arguments_[f] = d.name, this.argumentVarModels_[f] = d, e = !0);
				e && (this.displayRenamedVar_(c, d.name), Blockly.Procedures.mutateCallers(this))
			}
		},

		updateVarName: function (a) {
			for (var b = a.name, c = !1, d = 0; d < this.argumentVarModels_.length; d++) if (this.argumentVarModels_[d].getId() == a.getId()) {
				var e = this.arguments_[d];
				this.arguments_[d] = b;
				c = !0
			}
			c && (this.displayRenamedVar_(e, b), Blockly.Procedures.mutateCallers(this))
		},

		displayRenamedVar_: function (a, b) {
			this.updateParams_();

			if (this.mutator && this.mutator.isVisible()) for (var c = this.mutator.workspace_.getAllBlocks(!1), d = 0, e; e = c[d]; d++)"procedures_mutatorarg" == e.type && Blockly.Names.equals(a, e.getFieldValue("NAME")) && e.setFieldValue(b, "NAME")
		},

		customContextMenu: function (a) {
			if (!this.isInFlyout) {
				var b = {
					enabled: !0
				},
					c = this.getFieldValue("NAME");
				b.text = Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1", c);
				var d = Blockly.utils.xml.createElement("mutation");
				d.setAttribute("name", c);
				for (c = 0; c < this.arguments_.length; c++) {
					var e = Blockly.utils.xml.createElement("arg");
					e.setAttribute("name", this.arguments_[c]);
					d.appendChild(e)
				}
				c = Blockly.utils.xml.createElement("block");
				c.setAttribute("type", this.callType_);
				c.appendChild(d);
				b.callback = Blockly.ContextMenu.callbackFactory(this, c);
				a.push(b);
				if (!this.isCollapsed()) for (c = 0; c < this.argumentVarModels_.length; c++) b = {
					enabled: !0
				}, d = this.argumentVarModels_[c], b.text = Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1", d.name), d = Blockly.Variables.generateVariableFieldDom(d), e = Blockly.utils.xml.createElement("block"), e.setAttribute("type", "variables_get"), e.appendChild(d), b.callback = Blockly.ContextMenu.callbackFactory(this, e), a.push(b)
			}
		},

		callType_: "procedures_callnoreturn"
	};

	Blockly.Blocks.procedures_mutatorcontainer = {
		init: function () {
			this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE);
			this.appendStatementInput("STACK");
			this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"), "STATEMENTS");
			this.setStyle("procedure_blocks");
			this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);
			this.contextMenu = !1
		},

		onchange: function (a) {
			if (this.workspace && !this.workspace.isFlyout && (a.type == Blockly.Events.BLOCK_DELETE || a.type == Blockly.Events.BLOCK_CREATE)) {
				var b = this.workspace.getAllBlocks(),
					c = this.workspace.getAllVariables();

				if (a.type == Blockly.Events.BLOCK_DELETE) {
					a = [];
					for (var d = 0; d < b.length; d += 1) b[d].getFieldValue("NAME") && a.push(b[d].getFieldValue("NAME"));
					for (b = 0; b < c.length; b += 1) - 1 == a.indexOf(c[b].name) && this.workspace.deleteVariableById(c[b].getId())
				} else if (a.type == Blockly.Events.BLOCK_CREATE && (c = this.workspace.getBlockById(a.blockId), c.getField("NAME") && (d = c.getFieldValue("NAME"), (a = this.workspace.getVariable(d)) || (a = this.workspace.createVariable(d)), !c.previousConnection.isConnected() && !c.nextConnection.isConnected()))) for (d = 0; d < b.length; d += 1) if (c.id != b[d].id && b[d].getFieldValue("NAME") == a.name) {
					d = Blockly.Variables.generateUniqueName(this.workspace);
					a = this.workspace.createVariable(d);
					c.setFieldValue(a.name, "NAME");
					break
				}
			}
		}
	};

	///------////
//--------///
	Blockly.Blocks.procedures_callnoreturn = {
		init: function () {
			this.appendDummyInput("TOPROW").appendField(this.id, "NAME");
			this.setPreviousStatement(!0);
			this.setNextStatement(!0);
			this.setStyle("procedure_blocks");
			this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL);
			this.arguments_ = [];
			this.argumentVarModels_ = [];
			this.quarkConnections_ = {};

			this.quarkIds_ = null;
			this.previousEnabledState_ = !0
		},

		getProcedureCall: function () {
			return this.getFieldValue("NAME")
		},

		renameProcedure: function (a, b) {
			Blockly.Names.equals(a, this.getProcedureCall()) && (this.setFieldValue(b, "NAME"), this.setTooltip((this.outputConnection ? Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP : Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1", b)))
		},

		setProcedureParameters_: function (a, b) {
			var c = Blockly.Procedures.getDefinition(this.getProcedureCall(), this.workspace),
				d = c && c.mutator && c.mutator.isVisible();

			d || (this.quarkConnections_ = {}, this.quarkIds_ = null);
			if (b) if (a.join("\n") == this.arguments_.join("\n")) this.quarkIds_ = b;
			else {
				if (b.length != a.length) throw RangeError("paramNames and paramIds must be the same length.");
				this.setCollapsed(!1);
				this.quarkIds_ || (this.quarkConnections_ = {}, this.quarkIds_ = []);
				c = this.rendered;
				this.rendered = !1;
				for (var e = 0; e < this.arguments_.length; e++) {
					var f = this.getInput("ARG" + e);
					f && (f = f.connection.targetConnection, this.quarkConnections_[this.quarkIds_[e]] = f, d && f && -1 == b.indexOf(this.quarkIds_[e]) && (f.disconnect(), f.getSourceBlock().bumpNeighbours()))
				}
				this.arguments_ = [].concat(a);
				this.argumentVarModels_ = [];
				for (e = 0; e < this.arguments_.length; e++) d = Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, this.arguments_[e], ""), this.argumentVarModels_.push(d);
				this.updateShape_();

				if (this.quarkIds_ = b) for (e = 0; e < this.arguments_.length; e++) d = this.quarkIds_[e], d in this.quarkConnections_ && (f = this.quarkConnections_[d], Blockly.Mutator.reconnect(f, this, "ARG" + e) || delete this.quarkConnections_[d]);
				(this.rendered = c) && this.render()
			}
		},

		updateShape_: function () {
			for (var a = 0; a < this.arguments_.length; a++) {
				var b = this.getField("ARGNAME" + a);
				if (b) {
					Blockly.Events.disable();

					try {
						b.setValue(this.arguments_[a])
					} finally {
						Blockly.Events.enable()
					}
				} else b =
					new Blockly.FieldLabel(this.arguments_[a]), this.appendValueInput("ARG" + a).setAlign(Blockly.ALIGN_RIGHT).appendField(b, "ARGNAME" + a).init()
			}
			for (; this.getInput("ARG" + a);) this.removeInput("ARG" + a), a++;
			if (a = this.getInput("TOPROW")) this.arguments_.length ? this.getField("WITH") || (a.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS, "WITH"), a.init()) : this.getField("WITH") && a.removeField("WITH")
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("name", this.getProcedureCall());
			for (var b = 0; b < this.arguments_.length; b++) {
				var c = Blockly.utils.xml.createElement("arg");
				c.setAttribute("name", this.arguments_[b]);
				a.appendChild(c)
			}
			return a
		},

		domToMutation: function (a) {
			var b = a.getAttribute("name");
			this.renameProcedure(this.getProcedureCall(), b);
			b = [];
			for (var c = [], d = 0, e; e = a.childNodes[d]; d++)"arg" == e.nodeName.toLowerCase() && (b.push(e.getAttribute("name")), c.push(e.getAttribute("paramId")));
			this.setProcedureParameters_(b, c)
		},

		getVarModels: function () {
			return this.argumentVarModels_
		},

		onchange: function (a) {
			if (this.workspace && !this.workspace.isFlyout && a.recordUndo) if (a.type == Blockly.Events.BLOCK_CREATE && -1 != a.ids.indexOf(this.id)) {
				var b = this.getProcedureCall();

				b = Blockly.Procedures.getDefinition(b, this.workspace);
				!b || b.type == this.defType_ && JSON.stringify(b.arguments_) == JSON.stringify(this.arguments_) || (b = null);
				if (!b) {
					Blockly.Events.setGroup(a.group);
					a = Blockly.utils.xml.createElement("xml");
					b = Blockly.utils.xml.createElement("block");
					b.setAttribute("type", this.defType_);
					var c = this.getRelativeToSurfaceXY(),
						d = c.y + 2 * Blockly.SNAP_RADIUS;
					b.setAttribute("x", c.x + Blockly.SNAP_RADIUS * (this.RTL ? -1 : 1));
					b.setAttribute("y", d);
					c = this.mutationToDom();

					b.appendChild(c);
					c = Blockly.utils.xml.createElement("field");
					c.setAttribute("name", "NAME");
					c.appendChild(Blockly.utils.xml.createTextNode(this.getProcedureCall()));
					b.appendChild(c);
					a.appendChild(b);
					Blockly.Xml.domToWorkspace(a, this.workspace);
					Blockly.Events.setGroup(!1)
				}
			} else a.type == Blockly.Events.BLOCK_DELETE ? (b = this.getProcedureCall(), b = Blockly.Procedures.getDefinition(b, this.workspace), b || (Blockly.Events.setGroup(a.group), this.dispose(!0, !1), Blockly.Events.setGroup(!1))) : a.type == Blockly.Events.CHANGE && "disabled" == a.element && (b = this.getProcedureCall(), (b = Blockly.Procedures.getDefinition(b, this.workspace)) && b.id == a.blockId && ((b = Blockly.Events.getGroup()) && console.log("Saw an existing group while responding to a definition change"), Blockly.Events.setGroup(a.group), a.newValue ? (this.previousEnabledState_ = this.isEnabled(), this.setEnabled(!1)) : this.setEnabled(this.previousEnabledState_), Blockly.Events.setGroup(b)))
		},

		customContextMenu: function (a) {
			if (this.workspace.isMovable()) {
				var b = {
					enabled: !0
				};

				b.text = Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;
				var c = this.getProcedureCall(),
					d = this.workspace;
				b.callback = function () {
					var a = Blockly.Procedures.getDefinition(c, d);
					a && (d.centerOnBlock(a.id), a.select())
				};

				a.push(b)
			}
		},

		defType_: "procedures_defnoreturn"
	};


///-----------------///









//****//// */








	Blockly.Blocks.texts = {};

	Blockly.Constants.Text = {};

	Blockly.Constants.Text.HUE = 160;
	Blockly.defineBlocksWithJsonArray([{
		type: "text",
		message0: "%1",
		args0: [{
			type: "field_input",
			name: "TEXT",
			text: ""
		}],
		output: "String",
		style: "text_blocks",
		helpUrl: "%{BKY_TEXT_TEXT_HELPURL}",
		tooltip: "%{BKY_TEXT_TEXT_TOOLTIP}",
		extensions: ["text_quotes", "parent_tooltip_when_inline"]
	}]);
	Blockly.Blocks.text_getSubstring = {
		init: function () {
			this.WHERE_OPTIONS_1 = [
				[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START, "FROM_START"],
				[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END, "FROM_END"],
				[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST, "FIRST"]
			];
			this.WHERE_OPTIONS_2 = [
				[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START, "FROM_START"],
				[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END, "FROM_END"],
				[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST, "LAST"]
			];
			this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL);
			this.setStyle("text_blocks");
			this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);
			this.appendDummyInput("AT1");
			this.appendDummyInput("AT2");
			Blockly.Msg.TEXT_GET_SUBSTRING_TAIL && this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL);
			this.setInputsInline(!0);
			this.setOutput(!0, "String");
			this.updateAt_(1, !0);
			this.updateAt_(2, !0);
			this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation"),
				b = this.getInput("AT1").type == Blockly.INPUT_VALUE;
			a.setAttribute("at1", b);
			b = this.getInput("AT2").type == Blockly.INPUT_VALUE;
			a.setAttribute("at2", b);
			return a
		},

		domToMutation: function (a) {
			var b = "true" == a.getAttribute("at1");
			a = "true" == a.getAttribute("at2");
			this.updateAt_(1, b);
			this.updateAt_(2, a)
		},

		updateAt_: function (a, b) {
			this.removeInput("AT" + a);
			this.removeInput("ORDINAL" + a, !0);
			b ? (this.appendValueInput("AT" + a).setCheck("Number"), Blockly.Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL" + a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT" + a);
			2 == a && Blockly.Msg.TEXT_GET_SUBSTRING_TAIL && (this.removeInput("TAIL", !0), this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));
			var c = new Blockly.FieldDropdown(this["WHERE_OPTIONS_" + a], function (c) {
				var d = "FROM_START" == c || "FROM_END" == c;
				if (d != b) {
					var f = this.getSourceBlock();

					f.updateAt_(a, d);
					f.setFieldValue(c, "WHERE" + a);
					return null
				}
			});

			this.getInput("AT" + a).appendField(c, "WHERE" + a);
			1 == a && (this.moveInputBefore("AT1", "AT2"), this.getInput("ORDINAL1") && this.moveInputBefore("ORDINAL1", "AT2"))
		}
	};

	Blockly.Blocks.text_changeCase = {
		init: function () {
			var a = [
				[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE, "UPPERCASE"],
				[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE, "LOWERCASE"],
				[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE, "TITLECASE"]
			];
			this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL);
			this.setStyle("text_blocks");
			this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a), "CASE");
			this.setOutput(!0, "String");
			this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)
		}
	};

	Blockly.Blocks.text_trim = {
		init: function () {
			var a = [
				[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH, "BOTH"],
				[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT, "LEFT"],
				[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT, "RIGHT"]
			];
			this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL);
			this.setStyle("text_blocks");
			this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a), "MODE");
			this.setOutput(!0, "String");
			this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)
		}
	};

	Blockly.Blocks.text_print = {
		init: function () {
			this.jsonInit({
				message0: Blockly.Msg.TEXT_PRINT_TITLE,
				args0: [{
					type: "input_value",
					name: "TEXT"
				}],
				previousStatement: null,
				nextStatement: null,
				style: "text_blocks",
				tooltip: Blockly.Msg.TEXT_PRINT_TOOLTIP,
				helpUrl: Blockly.Msg.TEXT_PRINT_HELPURL
			})
		}
	};

	Blockly.Blocks.text_prompt_ext = {
		init: function () {
			var a = [
				[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT, "TEXT"],
				[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER, "NUMBER"]
			];
			this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);
			this.setStyle("text_blocks");
			var b = this;
			a = new Blockly.FieldDropdown(a, function (a) {
				b.updateType_(a)
			});

			this.appendValueInput("TEXT").appendField(a, "TYPE");
			this.setOutput(!0, "String");
			this.setTooltip(function () {
				return "TEXT" == b.getFieldValue("TYPE") ? Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT : Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER
			})
		},

		updateType_: function (a) {
			this.outputConnection.setCheck("NUMBER" == a ? "Number" : "String")
		},

		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("type", this.getFieldValue("TYPE"));
			return a
		},

		domToMutation: function (a) {
			this.updateType_(a.getAttribute("type"))
		}
	};

	Blockly.Blocks.text_prompt = {
		init: function () {
			this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);
			var a = [
				[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT, "TEXT"],
				[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER, "NUMBER"]
			],
				b = this;
			this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);
			this.setStyle("text_blocks");
			a = new Blockly.FieldDropdown(a, function (a) {
				b.updateType_(a)
			});

			this.appendDummyInput().appendField(a, "TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""), "TEXT").appendField(this.newQuote_(!1));
			this.setOutput(!0, "String");
			this.setTooltip(function () {
				return "TEXT" == b.getFieldValue("TYPE") ? Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT : Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER
			})
		},

		updateType_: Blockly.Blocks.text_prompt_ext.updateType_,
		mutationToDom: Blockly.Blocks.text_prompt_ext.mutationToDom,
		domToMutation: Blockly.Blocks.text_prompt_ext.domToMutation
	};

	Blockly.Blocks.text_count = {
		init: function () {
			this.jsonInit({
				message0: Blockly.Msg.TEXT_COUNT_MESSAGE0,
				args0: [{
					type: "input_value",
					name: "SUB",
					check: "String"
				},
				{
					type: "input_value",
					name: "TEXT",
					check: "String"
				}],
				output: "Number",
				inputsInline: !0,
				style: "text_blocks",
				tooltip: Blockly.Msg.TEXT_COUNT_TOOLTIP,
				helpUrl: Blockly.Msg.TEXT_COUNT_HELPURL
			})
		}
	};

	Blockly.Blocks.text_replace = {
		init: function () {
			this.jsonInit({
				message0: Blockly.Msg.TEXT_REPLACE_MESSAGE0,
				args0: [{
					type: "input_value",
					name: "FROM",
					check: "String"
				},
				{
					type: "input_value",
					name: "TO",
					check: "String"
				},
				{
					type: "input_value",
					name: "TEXT",
					check: "String"
				}],
				output: "String",
				inputsInline: !0,
				style: "text_blocks",
				tooltip: Blockly.Msg.TEXT_REPLACE_TOOLTIP,
				helpUrl: Blockly.Msg.TEXT_REPLACE_HELPURL
			})
		}
	};

	Blockly.Blocks.text_reverse = {
		init: function () {
			this.jsonInit({
				message0: Blockly.Msg.TEXT_REVERSE_MESSAGE0,
				args0: [{
					type: "input_value",
					name: "TEXT",
					check: "String"
				}],
				output: "String",
				inputsInline: !0,
				style: "text_blocks",
				tooltip: Blockly.Msg.TEXT_REVERSE_TOOLTIP,
				helpUrl: Blockly.Msg.TEXT_REVERSE_HELPURL
			})
		}
	};
	/*Comillas*/
	Blockly.Constants.Text.QUOTE_IMAGE_MIXIN = {
		QUOTE_IMAGE_LEFT_DATAURI: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",
		QUOTE_IMAGE_RIGHT_DATAURI: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
		QUOTE_IMAGE_WIDTH: 12,
		QUOTE_IMAGE_HEIGHT: 12,
		quoteField_: function (a) {
			for (var b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) if (a == e.name) {
				c.insertFieldAt(d, this.newQuote_(!0));
				c.insertFieldAt(d + 2, this.newQuote_(!1));
				return
			}
			console.warn('field named "' + a + '" not found in ' + this.toDevString())
		},

		newQuote_: function (a) {
			a = this.RTL ? !a : a;
			return new Blockly.FieldImage(a ? this.QUOTE_IMAGE_LEFT_DATAURI : this.QUOTE_IMAGE_RIGHT_DATAURI, this.QUOTE_IMAGE_WIDTH, this.QUOTE_IMAGE_HEIGHT, a ? "\u201c" : "\u201d")
		}
	};

	Blockly.Constants.Text.QUOTE_IMAGE_MIXIN2 = {
		QUOTE_IMAGE_LEFT_DATAURI: "data:image/png;base64,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",
		QUOTE_IMAGE_RIGHT_DATAURI: "data:image/png;base64,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",
		QUOTE_IMAGE_WIDTH: 12,
		QUOTE_IMAGE_HEIGHT: 12,
		quoteField_: function (a) {
			for (var b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) if (a == e.name) {
				c.insertFieldAt(d, this.newQuote_(!0));
				c.insertFieldAt(d + 2, this.newQuote_(!1));
				return
			}
			console.warn('field named "' + a + '" not found in ' + this.toDevString())
		},

		newQuote_: function (a) {
			a = this.RTL ? !a : a;
			return new Blockly.FieldImage(a ? this.QUOTE_IMAGE_LEFT_DATAURI : this.QUOTE_IMAGE_RIGHT_DATAURI, this.QUOTE_IMAGE_WIDTH, this.QUOTE_IMAGE_HEIGHT, a ? "\u201c" : "\u201d")
		}
	};

	Blockly.Constants.Text.TEXT_QUOTES_EXTENSION = function () {
		this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);
		this.quoteField_("TEXT")
	};
	Blockly.Constants.Text.TEXT_QUOTES_EXTENSION2 = function () {
		this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN2);
		this.quoteField_("TEXT")
	};

	Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN = {
		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("items", this.itemCount_);
			return a
		},

		domToMutation: function (a) {
			this.itemCount_ = parseInt(a.getAttribute("items"), 10);
			this.updateShape_()
		},

		decompose: function (a) {
			var b = a.newBlock("text_create_join_container");
			b.initSvg();

			for (var c = b.getInput("STACK").connection, d = 0; d < this.itemCount_; d++) {
				var e = a.newBlock("text_create_join_item");
				e.initSvg();

				c.connect(e.previousConnection);
				c = e.nextConnection
			}
			return b
		},

		compose: function (a) {
			var b = a.getInputTargetBlock("STACK");
			for (a = []; b;) a.push(b.valueConnection_), b = b.nextConnection && b.nextConnection.targetBlock();

			for (b = 0; b < this.itemCount_; b++) {
				var c = this.getInput("ADD" + b).connection.targetConnection;
				c && -1 == a.indexOf(c) && c.disconnect()
			}
			this.itemCount_ = a.length;
			this.updateShape_();

			for (b = 0; b < this.itemCount_; b++) Blockly.Mutator.reconnect(a[b], this, "ADD" + b)
		},

		saveConnections: function (a) {
			a = a.getInputTargetBlock("STACK");
			for (var b = 0; a;) {
				var c =
					this.getInput("ADD" + b);
				a.valueConnection_ = c && c.connection.targetConnection;
				b++;
				a = a.nextConnection && a.nextConnection.targetBlock()
			}
		},

		updateShape_: function () {
			this.itemCount_ && this.getInput("EMPTY") ? this.removeInput("EMPTY") : this.itemCount_ || this.getInput("EMPTY") || this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));
			for (var a = 0; a < this.itemCount_; a++) if (!this.getInput("ADD" + a)) {
				var b = this.appendValueInput("ADD" + a);
				0 == a && b.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)
			}
			for (; this.getInput("ADD" + a);) this.removeInput("ADD" + a), a++
		}
	};

	Blockly.Constants.Text.TEXT_JOIN_EXTENSION = function () {
		this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);
		this.itemCount_ = 2;
		this.updateShape_();

		this.setMutator(new Blockly.Mutator(["text_create_join_item"]))
	};

	Blockly.Extensions.register("text_append_tooltip", Blockly.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}", "VAR"));
	Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION = function () {
		var a = this;
		this.setTooltip(function () {
			return Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1", a.workspace.options.oneBasedIndex ? "0" : "-1")
		})
	};

	Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN = {
		mutationToDom: function () {
			var a = Blockly.utils.xml.createElement("mutation");
			a.setAttribute("at", !!this.isAt_);
			return a
		},

		domToMutation: function (a) {
			a = "false" != a.getAttribute("at");
			this.updateAt_(a)
		},

		updateAt_: function (a) {
			this.removeInput("AT", !0);
			this.removeInput("ORDINAL", !0);
			a && (this.appendValueInput("AT").setCheck("Number"), Blockly.Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX));
			Blockly.Msg.TEXT_CHARAT_TAIL && (this.removeInput("TAIL", !0), this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));
			this.isAt_ = a
		}
	};

	Blockly.Constants.Text.TEXT_CHARAT_EXTENSION = function () {
		this.getField("WHERE").setValidator(function (a) {
			a = "FROM_START" == a || "FROM_END" == a;
			a != this.isAt_ && this.getSourceBlock().updateAt_(a)
		});

		this.updateAt_(!0);
		var a = this;
		this.setTooltip(function () {
			var b = a.getFieldValue("WHERE"),
				c = Blockly.Msg.TEXT_CHARAT_TOOLTIP;
			("FROM_START" == b || "FROM_END" == b) && (b = "FROM_START" == b ? Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP : Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP) && (c += "  " + b.replace("%1", a.workspace.options.oneBasedIndex ? "#1" : "#0"));
			return c
		})
	};
	/*Apostrofes*/
	Blockly.Extensions.register("text_quotes2", Blockly.Constants.Text.TEXT_QUOTES_EXTENSION2);
	/*Comillas*/
	Blockly.Extensions.register("text_quotes", Blockly.Constants.Text.TEXT_QUOTES_EXTENSION);
	//-------------------//
	Blockly.Extensions.register("text_indexOf_tooltip", Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION);
	Blockly.Extensions.registerMutator("text_join_mutator", Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN, Blockly.Constants.Text.TEXT_JOIN_EXTENSION);
	Blockly.Extensions.registerMutator("text_charAt_mutator", Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN, Blockly.Constants.Text.TEXT_CHARAT_EXTENSION);
	Blockly.Blocks.variables = {};

	Blockly.Constants.Variables = {};

	Blockly.Constants.Variables.HUE = 330;
	Blockly.defineBlocksWithJsonArray([{
		type: "variables_get",
		message0: "%1",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
		}],
		output: null,
		style: "variable_blocks",
		helpUrl: "%{BKY_VARIABLES_GET_HELPURL}",
		tooltip: "%{BKY_VARIABLES_GET_TOOLTIP}",
		extensions: ["contextMenu_variableSetterGetter"]
	},
	{
		type: "variables_set",
		message0: "%{BKY_VARIABLES_SET}",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
		},
		{
			type: "input_value",
			name: "VALUE"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "variable_blocks",
		tooltip: "%{BKY_VARIABLES_SET_TOOLTIP}",
		helpUrl: "%{BKY_VARIABLES_SET_HELPURL}",
		extensions: ["contextMenu_variableSetterGetter"]
	}]);
	Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {
		customContextMenu: function (a) {
			if (!this.isInFlyout) {
				if ("variables_get" == this.type) var b = "variables_set",
					c = Blockly.Msg.VARIABLES_GET_CREATE_SET;
				else b = "variables_get", c = Blockly.Msg.VARIABLES_SET_CREATE_GET;
				var d = {
					enabled: 0 < this.workspace.remainingCapacity()
				},
					e = this.getField("VAR").getText();

				d.text = c.replace("%1", e);
				c = Blockly.utils.xml.createElement("field");
				c.setAttribute("name", "VAR");
				c.appendChild(Blockly.utils.xml.createTextNode(e));
				e = Blockly.utils.xml.createElement("block");
				e.setAttribute("type", b);
				e.appendChild(c);
				d.callback = Blockly.ContextMenu.callbackFactory(this, e);
				a.push(d)
			} else if ("variables_get" == this.type || "variables_get_reporter" == this.type) b = {
				text: Blockly.Msg.RENAME_VARIABLE,
				enabled: !0,
				callback: Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)
			}, e = this.getField("VAR").getText(), d = {
				text: Blockly.Msg.DELETE_VARIABLE.replace("%1", e),
				enabled: !0,
				callback: Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)
			}, a.unshift(b), a.unshift(d)
		}
	};

	Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY = function (a) {
		return function () {
			var b = a.workspace,
				c = a.getField("VAR").getVariable();

			Blockly.Variables.renameVariable(b, c)
		}
	};

	Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY = function (a) {
		return function () {
			var b = a.workspace,
				c = a.getField("VAR").getVariable();

			b.deleteVariableById(c.getId());
			b.refreshToolboxSelection()
		}
	};

	Blockly.Extensions.registerMixin("contextMenu_variableSetterGetter", Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);
	Blockly.Constants.VariablesDynamic = {};

	Blockly.Constants.VariablesDynamic.HUE = 310;
	Blockly.defineBlocksWithJsonArray([{
		type: "variables_get_dynamic",
		message0: "%1",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
		}],
		output: null,
		style: "variable_dynamic_blocks",
		helpUrl: "%{BKY_VARIABLES_GET_HELPURL}",
		tooltip: "%{BKY_VARIABLES_GET_TOOLTIP}",
		extensions: ["contextMenu_variableDynamicSetterGetter"]
	},
	{
		type: "variables_set_dynamic",
		message0: "%{BKY_VARIABLES_SET}",
		args0: [{
			type: "field_variable",
			name: "VAR",
			variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
		},
		{
			type: "input_value",
			name: "VALUE"
		}],
		previousStatement: null,
		nextStatement: null,
		style: "variable_dynamic_blocks",
		tooltip: "%{BKY_VARIABLES_SET_TOOLTIP}",
		helpUrl: "%{BKY_VARIABLES_SET_HELPURL}",
		extensions: ["contextMenu_variableDynamicSetterGetter"]
	}]);
	Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {
		customContextMenu: function (a) {
			if (!this.isInFlyout) {
				var b = this.getFieldValue("VAR");
				var c = this.workspace.getVariableById(b).type;
				if ("variables_get_dynamic" == this.type) {
					b = "variables_set_dynamic";
					var d = Blockly.Msg.VARIABLES_GET_CREATE_SET
				} else b = "variables_get_dynamic", d = Blockly.Msg.VARIABLES_SET_CREATE_GET;
				var e = {
					enabled: 0 < this.workspace.remainingCapacity()
				},
					f = this.getField("VAR").getText();

				e.text = d.replace("%1", f);
				d = Blockly.utils.xml.createElement("field");
				d.setAttribute("name", "VAR");
				d.setAttribute("variabletype", c);
				d.appendChild(Blockly.utils.xml.createTextNode(f));
				f = Blockly.utils.xml.createElement("block");
				f.setAttribute("type", b);
				f.appendChild(d);
				e.callback = Blockly.ContextMenu.callbackFactory(this, f);
				a.push(e)
			} else if ("variables_get_dynamic" == this.type || "variables_get_reporter_dynamic" == this.type) b = {
				text: Blockly.Msg.RENAME_VARIABLE,
				enabled: !0,
				callback: Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)
			}, f = this.getField("VAR").getText(), e = {
				text: Blockly.Msg.DELETE_VARIABLE.replace("%1", f),
				enabled: !0,
				callback: Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)
			}, a.unshift(b), a.unshift(e)
		},

		onchange: function (a) {
			a = this.getFieldValue("VAR");
			a = Blockly.Variables.getVariable(this.workspace, a);
			"variables_get_dynamic" == this.type ? this.outputConnection.setCheck(a.type) : this.getInput("VALUE").connection.setCheck(a.type)
		}
	};

	Blockly.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY = function (a) {
		return function () {
			var b = a.workspace,
				c = a.getField("VAR").getVariable();

			Blockly.Variables.renameVariable(b, c)
		}
	};

	Blockly.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY = function (a) {
		return function () {
			var b = a.workspace,
				c = a.getField("VAR").getVariable();

			b.deleteVariableById(c.getId());
			b.refreshToolboxSelection()
		}
	};

	Blockly.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter", Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);
	return Blockly.Blocks;
}));